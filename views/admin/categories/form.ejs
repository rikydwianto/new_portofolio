<% var isEdit=false; var p={}; if (typeof category !=='undefined' && category) { isEdit=true; p=category; } %>

    <div class="d-flex justify-content-between align-items-center mb-4">
        <h1>
            <%= isEdit ? 'Edit Category' : 'New Category' %>
        </h1>
        <a href="/admin/categories" class="btn btn-secondary">
            <i class="bi bi-arrow-left"></i> Back to List
        </a>
    </div>

    <div class="card shadow-sm" style="max-width: 600px;">
        <div class="card-body">
            <% if (isEdit) { %>
                <!-- EDIT FORM -->
                <form action="/admin/categories/<%= p.id %>?_method=PUT" method="POST">
                    <% } else { %>
                        <!-- CREATE FORM -->
                        <form action="/admin/categories" method="POST">
                            <% } %>

                                <div class="mb-4">
                                    <label for="name" class="form-label">Category Name</label>
                                    <input type="text" class="form-control form-control-lg" id="name" name="name"
                                        value="<%= p.name || '' %>" placeholder="e.g. Web Development" required
                                        autofocus>
                                    <div class="form-text">Slug will be auto-generated from the name.</div>
                                </div>

                                <div class="d-flex justify-content-end gap-2">
                                    <a href="/admin/categories" class="btn btn-secondary">Cancel</a>
                                    <button type="submit" class="btn btn-primary">
                                        <i class="bi bi-save"></i>
                                        <%= isEdit ? 'Update Category' : 'Create Category' %>
                                    </button>
                                </div>
                        </form>
        </div>
    </div>